<!doctype html>
<html lang="utf-8">
<head>
<title>Document</title>
<style>
#content{
	position:relative;
	margin:auto;
	width:100%;
	height:500px;
	background:yellow;
}
</style>
<script src="./RockMan.js"></script>
<script src="./Block.js"></script>
<script src="./lib.js"></script>
<script>
var content;
var blockArray=new Array();
var rockMan;

function init(){
	content=document.getElementById("content");

	rockMan=new RockMan(50,100,0,0);
	rockMan.init();

	createBlock();

	window.addEventListener("keydown", function(){
		var key=event.keyCode;

		if(key == 32 && rockMan.jumping==false){
			rockMan.jumping=true; 
			rockMan.velY=-5;
		}

		switch(key){
			case 37:rockMan.velX=-3;break;
			case 39:rockMan.velX=3;break;
		}

	});  

	window.addEventListener("keyup", function(){
		var key=event.keyCode;

		switch(key){
			case 32:rockMan.jumping=false;break;
			case 37:rockMan.velX=0;break;
			case 39:rockMan.velX=0;break;
		}
	});
}

function createBlock(){
	for(var i=0;i<20;i++){
		var block= new Block(50,50,i*50,450);
		block.init();
		blockArray[i]=block;
	}
}
</script>
</head>
<body onLoad="init()">
<div id="content"></div>
</body>
</html>
